<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>figure out how to conveniently work on the gem and a project using it at the same time</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1404.34">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Helvetica Neue'}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Helvetica Neue'; min-height: 16.0px}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #d5e7ff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #5e5e5e; background-color: #d5e7ff}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #d5e7ff; min-height: 13.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #9d9c08; background-color: #d5e7ff}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; font: 12.0px Helvetica}
    span.s1 {font: 14.0px Menlo}
    span.s2 {font-variant-ligatures: no-common-ligatures}
    span.s3 {font-variant-ligatures: no-common-ligatures; color: #000000}
    span.s4 {font-variant-ligatures: no-common-ligatures; color: #472ad8}
    span.s5 {font-variant-ligatures: no-common-ligatures; color: #b62b17}
    span.s6 {font: 14.0px 'Apple Color Emoji'}
  </style>
</head>
<body>
<p class="p1"><b>figure out how to conveniently work on the gem and a project using it at the same time</b></p>
<p class="p2">2016-01-09</p>
<p class="p3"><br></p>
<p class="p2">Oh, cool. If using the local path way of referencing the gem in the Gemfile, it looks like you don't even have to actually do a <span class="s1">gem build</span>.</p>
<p class="p3"><br></p>
<p class="p2">Change the Gemfile to reference the relative path to the gem's source code folder:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$ pygmentize -l ruby Gemfile</span></p>
<p class="p5"><span class="s2"># gem "mason", github: "masonmark/mason-gem"</span></p>
<p class="p5"><span class="s2"><span class="Apple-converted-space">&nbsp; </span># When not actively working on the gem, referencing it via github is good.</span></p>
<p class="p5"><span class="s2"><span class="Apple-converted-space">&nbsp; </span># However, when working on the gem itself, it's more covenient to reference it</span></p>
<p class="p5"><span class="s2"><span class="Apple-converted-space">&nbsp; </span># via local path, because then there's no need to push the gem code to github</span></p>
<p class="p5"><span class="s2"><span class="Apple-converted-space">&nbsp; </span># and then have to 'bundle install' in the project using it.</span></p>
<p class="p6"><span class="s2"></span><br></p>
<p class="p7"><span class="s3">gem </span><span class="s2">"mason"</span><span class="s3">, </span><span class="s2">path</span><span class="s3">: </span><span class="s2">"../"</span><span class="s3"><span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p5"><span class="s2"><span class="Apple-converted-space">&nbsp; </span># path is to parent dir, not gem itself</span></p>
<p class="p6"><span class="s2"><span class="Apple-converted-space">&nbsp;&nbsp;</span></span></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">Note that the built gem is not present:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp; </span>ls -l ..</span></p>
<p class="p4"><span class="s2">total 1392</span></p>
<p class="p4"><span class="s2">drwxr-xr-x<span class="Apple-converted-space">&nbsp; </span>8 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>272 Jan<span class="Apple-converted-space">&nbsp; </span>9 12:17 </span><span class="s4">README-mason-gem</span></p>
<p class="p4"><span class="s2">-rw-r--r--@ 1 mason<span class="Apple-converted-space">&nbsp; </span>staff<span class="Apple-converted-space">&nbsp; </span>701669 Jan<span class="Apple-converted-space">&nbsp; </span>9 12:17 README-mason-gem.pdf</span></p>
<p class="p4"><span class="s2">drwxr-xr-x<span class="Apple-converted-space">&nbsp; </span>6 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>204 Jan<span class="Apple-converted-space">&nbsp; </span>9 12:17 </span><span class="s4">README-mason-gem.vpdoc</span></p>
<p class="p4"><span class="s2">-rw-r--r--@ 1 mason<span class="Apple-converted-space">&nbsp; </span>staff<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; </span>55 Jan<span class="Apple-converted-space">&nbsp; </span>9 11:15 README.md</span></p>
<p class="p4"><span class="s2">drwxr-xr-x<span class="Apple-converted-space">&nbsp; </span>3 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>102 Jan<span class="Apple-converted-space">&nbsp; </span>8 20:58 </span><span class="s4">lib</span></p>
<p class="p4"><span class="s2">-rw-r--r--@ 1 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>378 Jan<span class="Apple-converted-space">&nbsp; </span>9 09:52 mason.gemspec</span></p>
<p class="p4"><span class="s2">drwxr-xr-x<span class="Apple-converted-space">&nbsp; </span>7 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>238 Jan<span class="Apple-converted-space">&nbsp; </span>9 15:55 </span><span class="s4">test-the-gem-bro</span></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">Also note that, just to be sure, I nuked the "vendor" dir in the test-the-gem-bro project, and also the Gemfile.lock file:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$ ls -l</span></p>
<p class="p4"><span class="s2">total 16</span></p>
<p class="p4"><span class="s2">-rw-r--r--@ 1 mason<span class="Apple-converted-space">&nbsp; </span>staff<span class="Apple-converted-space">&nbsp; </span>417 Jan<span class="Apple-converted-space">&nbsp; </span>9 15:53 Gemfile</span></p>
<p class="p4"><span class="s2">-rwxr-xr-x@ 1 mason<span class="Apple-converted-space">&nbsp; </span>staff<span class="Apple-converted-space">&nbsp; </span>131 Jan<span class="Apple-converted-space">&nbsp; </span>9 09:31 </span><span class="s5">test.rb</span></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">But it still works:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$ bundle exec ./test.rb<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p4"><span class="s2">Here's a Mason instance: #&lt;Mason:0x007f8c1212dc48&gt;</span></p>
<p class="p4"><span class="s2">Will it boogie?</span></p>
<p class="p4"><span class="s2">w00t w00t</span></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">Now, the $0.64 question: if we change the gem code, and do nothing else, will the test project see the changes and run the new code? Yes:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$ bundle exec ./test.rb<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p4"><span class="s2">Here's a Mason instance: #&lt;Mason:0x007ff1e2b347d8&gt;</span></p>
<p class="p4"><span class="s2">Will it boogie?</span></p>
<p class="p4"><span class="s2">Sorry, the boogie feature has been removed in this new version.</span></p>
<p class="p4"><span class="s2">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">Sick! So, this confirms that it's hella easy to work on a gem concurrently with a project that uses it. <span class="s6">üëçüèæ</span></p>
<p class="p3"><br></p>
<p class="p8"><img src="figure%20out%20how%20to%20conveniently%20work%20on%20the%20gem%20and%20a%20project%20using%20it%20at%20the%20same%20time.thumb_IMG_0004_1024.jpg" width="1024" height="768" alt="thumb_IMG_0004_1024.jpg"></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
</body>
</html>
