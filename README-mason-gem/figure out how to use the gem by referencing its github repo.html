<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>figure out how to use the gem by referencing its GitHub repo</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1404.34">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Helvetica Neue'}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'Helvetica Neue'; min-height: 16.0px}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #d5e7ff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; background-color: #d5e7ff; min-height: 13.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #9d9c08; background-color: #d5e7ff}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #5e5e5e; background-color: #d5e7ff}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #b62b17; background-color: #d5e7ff}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #13ab0b; background-color: #d5e7ff}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; font: 12.0px Helvetica}
    span.s1 {font-variant-ligatures: no-common-ligatures}
    span.s2 {font-variant-ligatures: no-common-ligatures; color: #472ad8}
    span.s3 {font: 13.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #ff2600}
    span.s4 {font: 13.0px 'Apple Color Emoji'; font-variant-ligatures: no-common-ligatures; color: #ff2600}
    span.s5 {font-variant-ligatures: no-common-ligatures; color: #000000}
  </style>
</head>
<body>
<p class="p1"><b>figure out how to use the gem by referencing its GitHub repo</b></p>
<p class="p2">2016-01-09</p>
<p class="p3"><br></p>
<p class="p2">So, I moved the test project into the repo for the mason gem itself:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No mason-gem (master)]$ ls -l</span></p>
<p class="p4"><span class="s1">total 872</span></p>
<p class="p4"><span class="s1">drwxr-xr-x<span class="Apple-converted-space">&nbsp; </span>6 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>204 Jan<span class="Apple-converted-space">&nbsp; </span>9 11:09 </span><span class="s2">README-mason-gem</span></p>
<p class="p4"><span class="s1">-rw-r--r--@ 1 mason<span class="Apple-converted-space">&nbsp; </span>staff<span class="Apple-converted-space">&nbsp; </span>431256 Jan<span class="Apple-converted-space">&nbsp; </span>9 11:10 README-mason-gem.pdf</span></p>
<p class="p4"><span class="s1">drwxr-xr-x<span class="Apple-converted-space">&nbsp; </span>6 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>204 Jan<span class="Apple-converted-space">&nbsp; </span>9 11:15 </span><span class="s2">README-mason-gem.vpdoc</span></p>
<p class="p4"><span class="s1">-rw-r--r--@ 1 mason<span class="Apple-converted-space">&nbsp; </span>staff<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; </span>55 Jan<span class="Apple-converted-space">&nbsp; </span>9 11:15 README.md</span></p>
<p class="p4"><span class="s1">drwxr-xr-x<span class="Apple-converted-space">&nbsp; </span>3 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>102 Jan<span class="Apple-converted-space">&nbsp; </span>8 20:58 </span><span class="s2">lib</span></p>
<p class="p4"><span class="s1">-rw-r--r--<span class="Apple-converted-space">&nbsp; </span>1 mason<span class="Apple-converted-space">&nbsp; </span>staff<span class="Apple-converted-space">&nbsp; &nbsp; </span>4096 Jan<span class="Apple-converted-space">&nbsp; </span>9 10:03 mason-0.0.1.gem</span></p>
<p class="p4"><span class="s1">-rw-r--r--@ 1 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>378 Jan<span class="Apple-converted-space">&nbsp; </span>9 09:52 mason.gemspec</span></p>
<p class="p4"><span class="s1">drwxr-xr-x<span class="Apple-converted-space">&nbsp; </span>5 mason<span class="Apple-converted-space">&nbsp; </span>staff <span class="Apple-converted-space">&nbsp; &nbsp; </span>170 Jan<span class="Apple-converted-space">&nbsp; </span>9 10:12 </span><span class="s2">test-the-gem-bro</span><span class="s3"> <b>‚Üê NEW!! </b></span><span class="s4">üòÆ</span></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No mason-gem (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">Then, I updated the Gemfile for the test project to reference the gem's GitHub repo, not the local path to the gem:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No mason-gem (master)]$ cd test-the-gem-bro/</span></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No test-the-gem-bro (master)]$ pygmentize -l ruby Gemfile</span></p>
<p class="p5"><span class="s1"></span><br></p>
<p class="p6"><span class="s5">gem </span><span class="s1">"mason"</span><span class="s5">, </span><span class="s1">github</span><span class="s5">: </span><span class="s1">"masonmark/mason-gem"</span></p>
<p class="p5"><span class="s1"></span><br></p>
<p class="p7"><span class="s1"># gem "mason", path: "../"<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">&nbsp; &nbsp; </span># path is to parent dir, not gem itself</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">&nbsp;&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">Obviously, this way does not work without a bundle install<span class="Apple-converted-space">&nbsp; </span>(unlike when we previously referenced the gem by its local path), because Bundler has to fetch the gem from Github:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No test-the-gem-bro (master)]$ bundle exec ./test.rb<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p8"><span class="s1">The git source git://github.com/masonmark/mason-gem.git is not yet checked out. Please run `bundle install` before trying to start your application</span></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">That's OK though, because in a real project we always have to do this anyway:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No test-the-gem-bro (master)]$ bundle install --path vendor/bundle</span></p>
<p class="p4"><span class="s1">Fetching git://github.com/masonmark/mason-gem.git</span></p>
<p class="p4"><span class="s1">Resolving dependencies...</span></p>
<p class="p6"><span class="s1">Rubygems 2.0.14 is not threadsafe, so your gems will be installed one at a time. Upgrade to Rubygems 2.1.0 or higher to enable parallel gem installation.</span></p>
<p class="p4"><span class="s1">Using mason 0.0.1 from git://github.com/masonmark/mason-gem.git (at master@1575c6f)</span></p>
<p class="p4"><span class="s1">Using bundler 1.11.2</span></p>
<p class="p9"><span class="s1">Bundle complete! 1 Gemfile dependency, 2 gems now installed.</span></p>
<p class="p9"><span class="s1">Bundled gems are installed into ./vendor/bundle.</span></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">And now:</p>
<p class="p3"><br></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No test-the-gem-bro (master)]$ bundle exec ./test.rb<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p4"><span class="s1">Here's a Mason instance: #&lt;Mason:0x007fe0aa28c1b0&gt;</span></p>
<p class="p4"><span class="s1">Will it boogie?</span></p>
<p class="p4"><span class="s1">w00t w00t</span></p>
<p class="p4"><span class="s1">[mason@MacBook-Pro-No test-the-gem-bro (master)]$<span class="Apple-converted-space">&nbsp;</span></span></p>
<p class="p3"><br></p>
<p class="p2">Cool!</p>
<p class="p3"><br></p>
<p class="p10"><img src="figure%20out%20how%20to%20use%20the%20gem%20by%20referencing%20its%20github%20repo.thumb_IMG_4399_1024.jpg" width="1024" height="768" alt="thumb_IMG_4399_1024.jpg"></p>
</body>
</html>
